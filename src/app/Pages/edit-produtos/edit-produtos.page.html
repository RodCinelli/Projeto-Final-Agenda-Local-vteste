<ion-buttons slot="start">
  <ion-menu-button></ion-menu-button>
</ion-buttons>

<ion-content>
  <ion-card>
    <ion-card-header>
      <ion-card-title>Editar Produtos</ion-card-title>
      <ion-card-subtitle>área administrativa</ion-card-subtitle>
    </ion-card-header>

    <ion-card-content>
      <ion-list>
        <ion-item *ngFor="let p of produtos">
          <ion-thumbnail slot="start">
            <img src={{p.image}} />
          </ion-thumbnail>
          <ion-label class="nome">{{p.nome}}</ion-label>
          <ion-label>{{p.preco}}</ion-label>
          <ion-button (click)="CarregaProdutos(true, p.id, p.nome, p.descricao, p.preco, p.qtd, p.image)">Editar</ion-button>
        </ion-item>
      </ion-list>
    </ion-card-content>
  </ion-card>

  <ion-toast [isOpen]="isToastOpen" message="Produto editado com sucesso." [duration]="5000" (didDismiss)="setOpen(false)"></ion-toast>
</ion-content>

<ion-modal #modal [isOpen]="isModalOpen">
  <ng-template>
    <ion-content>
      <div class="block">
        <h3>Editar Produto</h3>
        <form>
          <!-- Correções nos campos de input -->
        <ion-input fill="outline" [value]="produto.nome ?? ''" #productName></ion-input>
        <ion-input fill="outline" type="textarea" [value]="produto.descricao ?? ''" #productDescript></ion-input>
        <ion-input fill="outline" [value]="produto.preco ?? 0" #preco></ion-input>
        <ion-input fill="outline" type="number" [value]="produto.qtd ?? 0" #Qtd></ion-input>

        <!-- Botão para Editar o Produto -->
        <ion-button fill="outline" expand="block" (click)="EditarProduto(produto.id ?? '', productName.value ?? '', productDescript.value ?? '', preco.value.toString() ?? '', Qtd.value.toString() ?? '', produto.image)">
          Editar
        </ion-button>
        
          <!-- Botão para Fechar o Modal -->
          <ion-button expand="block" (click)="isModalOpen = !isModalOpen">Voltar</ion-button>
        </form>
        
</div>
</ion-content>
</ng-template>
</ion-modal>